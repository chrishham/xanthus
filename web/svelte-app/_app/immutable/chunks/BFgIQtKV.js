var xe=Object.defineProperty;var ye=(e,a,l)=>a in e?xe(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l;var K=(e,a,l)=>ye(e,typeof a!="symbol"?a+"":a,l);import{b2 as ve,e as ge,ad as Ie,_ as ke,b3 as Ce,b4 as Se,b5 as Re,u as Q,r as qe,D as ze,at as oe,aa as Ae,p as ce,l as ae,k as fe,m as b,t as y,aB as D,n as c,o as he,y as q,s as te,v as le,h as U,g as v,w as p,x as w,z,b6 as Me,aA as Ee,as as Te}from"./Ce1HVTUQ.js";import"./CWj6FrbW.js";import"./RaIwcHWQ.js";import{p as r,i as g}from"./C18abfhG.js";import{r as Ve,s as A,b as L,c as De}from"./BZ4NpD64.js";import{s as be,c as me}from"./bgO99CsW.js";import{e as Le,i as Pe}from"./C0w9dAzy.js";import{i as Fe}from"./BdY6-5Q-.js";function _e(e,a,l){if(e.multiple){if(a==null)return;if(!ke(a))return Ce();for(var d of e.options)d.selected=a.includes(W(d));return}for(d of e.options){var i=W(d);if(Se(i,a)){d.selected=!0;return}}(!l||a!==void 0)&&(e.selectedIndex=-1)}function He(e){var a=new MutationObserver(()=>{_e(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ie(()=>{a.disconnect()})}function Oe(e,a,l=a){var d=!0;ve(e,"change",i=>{var o=i?"[selected]":":checked",I;if(e.multiple)I=[].map.call(e.querySelectorAll(o),W);else{var x=e.querySelector(o)??e.querySelector("option:not([disabled])");I=x&&W(x)}l(I)}),ge(()=>{var i=a();if(_e(e,i,d),d&&i===void 0){var o=e.querySelector(":checked");o!==null&&(i=W(o),l(i))}e.__value=i,d=!1}),He(e)}function W(e){return"__value"in e?e.__value:e.value}function Be(e,a,l=a){var d=Re();ve(e,"input",i=>{var o=i?e.defaultValue:e.value;if(o=ie(e)?ne(o):o,l(o),d&&o!==(o=a())){var I=e.selectionStart,x=e.selectionEnd;e.value=o??"",x!==null&&(e.selectionStart=I,e.selectionEnd=Math.min(x,e.value.length))}}),(ze&&e.defaultValue!==e.value||Q(a)==null&&e.value)&&l(ie(e)?ne(e.value):e.value),qe(()=>{var i=a();ie(e)&&i===ne(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function ie(e){var a=e.type;return a==="number"||a==="range"}function ne(e){return e===""?null:+e}const Ne={applications:[],predefinedApps:[],loading:!1,autoRefresh:{enabled:!0,interval:3e4,countdown:0,isRefreshing:!1},modals:{deployment:{show:!1,predefinedApp:null,domains:[],servers:[]},password:{show:!1,app:null,mode:"view"},portForwarding:{show:!1,app:null,domain:"",ports:[],newPort:{port:"",subdomain:""}}}},S=Ae(Ne),fa=oe(S,e=>e.applications),ha=oe(S,e=>e.predefinedApps);oe(S,e=>e.autoRefresh);const ba=e=>{S.update(a=>({...a,autoRefresh:{...a.autoRefresh,enabled:e}}))},de=e=>{S.update(a=>({...a,autoRefresh:{...a.autoRefresh,countdown:e}}))},ma=(e,a,l)=>{S.update(d=>({...d,modals:{...d.modals,deployment:{show:!0,predefinedApp:e,domains:a,servers:l}}}))},_a=()=>{S.update(e=>({...e,modals:{...e.modals,deployment:{...e.modals.deployment,show:!1}}}))},pa=(e,a="view")=>{S.update(l=>({...l,modals:{...l.modals,password:{show:!0,app:e,mode:a}}}))},wa=()=>{S.update(e=>({...e,modals:{...e.modals,password:{...e.modals.password,show:!1}}}))};class je{constructor(){K(this,"intervalId",null);K(this,"countdownId",null);K(this,"refreshCallback",null);K(this,"interval",3e4);this.setupVisibilityHandling()}start(a,l=3e4){this.refreshCallback=a,this.interval=l,this.stop(),this.startCountdown(),this.intervalId=window.setInterval(async()=>{!document.hidden&&this.refreshCallback&&(await this.refreshCallback(),this.startCountdown())},this.interval)}stop(){this.intervalId!==null&&(clearInterval(this.intervalId),this.intervalId=null),this.countdownId!==null&&(clearInterval(this.countdownId),this.countdownId=null),de(0)}startCountdown(){this.countdownId!==null&&clearInterval(this.countdownId);let a=Math.floor(this.interval/1e3);de(a),this.countdownId=window.setInterval(()=>{a--,de(a),a<=0&&this.countdownId!==null&&(clearInterval(this.countdownId),this.countdownId=null)},1e3)}setupVisibilityHandling(){document.addEventListener("visibilitychange",()=>{document.hidden?this.stop():this.refreshCallback&&(this.start(this.refreshCallback,this.interval),this.refreshCallback())})}isRunning(){return this.intervalId!==null}}const xa=new je;var Ge=b('<span class="text-red-500">*</span>'),Je=b('<label class="block text-sm font-medium text-gray-700"> <!></label>'),Ke=b('<p class="text-sm text-red-600"> </p>'),Qe=b('<p class="text-sm text-gray-500"> </p>'),Ue=b('<div class="space-y-1"><!> <input/> <!></div>');function ya(e,a){ce(a,!1);const l=le(),d=le();let i=r(a,"label",8,""),o=r(a,"id",8,""),I=r(a,"name",8,""),x=r(a,"type",8,"text"),X=r(a,"value",12,""),O=r(a,"placeholder",8,""),P=r(a,"required",8,!1),Y=r(a,"disabled",8,!1),F=r(a,"readonly",8,!1),C=r(a,"error",8,""),B=r(a,"helperText",8,""),N=r(a,"help",8,""),j=r(a,"size",8,"md");function Z(n){switch(n){case"sm":return"px-3 py-1.5 text-sm";case"md":return"px-4 py-2 text-sm";case"lg":return"px-4 py-3 text-base";default:return"px-4 py-2 text-sm"}}ae(()=>U(j()),()=>{te(l,Z(j()))}),ae(()=>(v(l),U(C())),()=>{te(d,`
		block w-full rounded-md border-gray-300 shadow-sm 
		focus:border-blue-500 focus:ring-blue-500 
		disabled:bg-gray-50 disabled:text-gray-500
		${v(l)}
		${C()?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
	`)}),fe();var G=Ue(),H=p(G);{var $=n=>{var m=Je(),R=p(m),M=q(R);{var E=T=>{var re=Ge();c(T,re)};g(M,T=>{P()&&T(E)})}w(m),y(()=>{A(m,"for",o()),z(R,`${i()??""} `)}),c(n,m)};g(H,n=>{i()&&n($)})}var u=q(H,2);Ve(u);var J=q(u,2);{var f=n=>{var m=Ke(),R=p(m,!0);w(m),y(()=>z(R,C())),c(n,m)},ee=(n,m)=>{{var R=M=>{var E=Qe(),T=p(E,!0);w(E),y(()=>z(T,N()||B())),c(M,E)};g(n,M=>{(N()||B())&&M(R)},m)}};g(J,n=>{C()?n(f):n(ee,!1)})}w(G),y(()=>{A(u,"id",o()),A(u,"name",I()),A(u,"type",x()),A(u,"placeholder",O()),u.required=P(),u.disabled=Y(),u.readOnly=F(),be(u,1,me(v(d)))}),Be(u,X),D("input",u,function(n){L.call(this,a,n)}),D("change",u,function(n){L.call(this,a,n)}),D("blur",u,function(n){L.call(this,a,n)}),D("focus",u,function(n){L.call(this,a,n)}),c(e,G),he()}var We=b('<span class="text-red-500">*</span>'),Xe=b('<label class="block text-sm font-medium text-gray-700"> <!></label>'),Ye=b("<option disabled> </option>"),Ze=b("<option disabled>Loading options...</option>"),$e=b("<option> </option>"),ea=b('<div class="absolute inset-y-0 right-0 flex items-center pr-8 pointer-events-none"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"></div></div>'),aa=b('<p class="text-sm text-red-600"> </p>'),ta=b('<p class="text-sm text-gray-500"> </p>'),la=b('<div class="space-y-1"><!> <div class="relative"><select><!><!></select> <!></div> <!></div>');function ga(e,a){ce(a,!1);const l=le(),d=le();let i=r(a,"label",8,""),o=r(a,"id",8,""),I=r(a,"name",8,""),x=r(a,"value",12,""),X=r(a,"options",24,()=>[]),O=r(a,"placeholder",8,""),P=r(a,"required",8,!1),Y=r(a,"disabled",8,!1),F=r(a,"loading",8,!1),C=r(a,"error",8,""),B=r(a,"helperText",8,""),N=r(a,"help",8,""),j=r(a,"size",8,"md"),Z=r(a,"class",8,"");function G(t){switch(t){case"sm":return"px-3 py-1.5 text-sm";case"md":return"px-4 py-2 text-sm";case"lg":return"px-4 py-3 text-base";default:return"px-4 py-2 text-sm"}}ae(()=>U(j()),()=>{te(l,G(j()))}),ae(()=>(v(l),U(C()),U(Z())),()=>{te(d,`
		block w-full rounded-md border-gray-300 shadow-sm 
		focus:border-blue-500 focus:ring-blue-500 
		disabled:bg-gray-50 disabled:text-gray-500
		${v(l)}
		${C()?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
		${Z()}
	`.trim())}),fe(),Fe();var H=la(),$=p(H);{var u=t=>{var s=Xe(),k=p(s),V=q(k);{var h=_=>{var se=We();c(_,se)};g(V,_=>{P()&&_(h)})}w(s),y(()=>{A(s,"for",o()),z(k,`${i()??""} `)}),c(t,s)};g($,t=>{i()&&t(u)})}var J=q($,2),f=p(J);y(()=>{x(),Me(()=>{o(),I(),P(),Y(),F(),v(d),O(),X()})});var ee=p(f);{var n=t=>{var s=Ye(),k=p(s,!0);w(s),s.value=s.__value="",y(()=>{De(s,x()===""),z(k,O())}),c(t,s)};g(ee,t=>{O()&&t(n)})}var m=q(ee);{var R=t=>{var s=Ze();s.value=s.__value="",c(t,s)},M=t=>{var s=Ee(),k=Te(s);Le(k,1,X,Pe,(V,h)=>{var _=$e(),se=p(_,!0);w(_);var ue={};y(()=>{_.disabled=(v(h),Q(()=>v(h).disabled)),z(se,(v(h),Q(()=>v(h).label))),ue!==(ue=(v(h),Q(()=>v(h).value)))&&(_.value=(_.__value=(v(h),Q(()=>v(h).value)))??"")}),c(V,_)}),c(t,s)};g(m,t=>{F()?t(R):t(M,!1)})}w(f);var E=q(f,2);{var T=t=>{var s=ea();c(t,s)};g(E,t=>{F()&&t(T)})}w(J);var re=q(J,2);{var pe=t=>{var s=aa(),k=p(s,!0);w(s),y(()=>z(k,C())),c(t,s)},we=(t,s)=>{{var k=V=>{var h=ta(),_=p(h,!0);w(h),y(()=>z(_,N()||B())),c(V,h)};g(t,V=>{(N()||B())&&V(k)},s)}};g(re,t=>{C()?t(pe):t(we,!1)})}w(H),y(()=>{A(f,"id",o()),A(f,"name",I()),f.required=P(),f.disabled=Y()||F(),be(f,1,me(v(d)))}),Oe(f,x),D("change",f,function(t){L.call(this,a,t)}),D("blur",f,function(t){L.call(this,a,t)}),D("focus",f,function(t){L.call(this,a,t)}),c(e,H),he()}export{ya as I,ga as S,S as a,wa as b,xa as c,fa as d,ma as e,pa as f,_e as g,_a as h,He as i,ha as p,ba as s};
