var mt=Object.defineProperty;var ht=(o,s,t)=>s in o?mt(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t;var Le=(o,s,t)=>ht(o,typeof s!="symbol"?s+"":s,t);import"../chunks/CWj6FrbW.js";import"../chunks/RaIwcHWQ.js";import{o as ct,a as vt,c as ft}from"../chunks/ChR5l_r1.js";import{at as Pe,aa as gt,p as Se,l as ce,k as Ae,aA as Ee,as as Ce,n as v,o as Me,s as ae,v as ne,g as e,u as d,m as j,w as a,y as i,b1 as I,x as r,A as re,B as Fe,t as G,z as A,aB as be,b0 as xt,b7 as wt,E as fe,h as se,C as _t,$ as yt}from"../chunks/Ce1HVTUQ.js";import{i as H,s as ze,a as ke,p as bt}from"../chunks/C18abfhG.js";import{C as $t,e as pt,i as kt}from"../chunks/C0w9dAzy.js";import{s as Xe}from"../chunks/bgO99CsW.js";import{i as qe}from"../chunks/BdY6-5Q-.js";import"../chunks/DSBPkOg0.js";import{a as He}from"../chunks/BJkf_VXN.js";import{I as St,S as Ze,i as Mt,g as Ct,c as et}from"../chunks/BFgIQtKV.js";import{B as O}from"../chunks/BZ4NpD64.js";import{b as Pt}from"../chunks/DZCAfPZV.js";import{_ as Oe}from"../chunks/CmsKOCeN.js";import{L as At}from"../chunks/DLRiGjVN.js";const zt={servers:[],loading:!1,error:null,autoRefresh:{enabled:!0,interval:3e4,countdown:0,isRefreshing:!1,adaptivePolling:!0},modals:{creation:{show:!1,step:1,maxSteps:5,formData:{name:"",provider:"",server_type:"",region:"",setup_k3s:!0,ssh_key:""},validationErrors:{},loading:!1},terminal:{show:!1,vps:null,connected:!1},health:{show:!1,vps:null,data:null,loading:!1},applications:{show:!1,vps:null,applications:[],loading:!1},ssh:{show:!1,vps:null}},filters:{provider:"",status:"",search:""},sort:{field:"name",direction:"asc"}},z=gt(zt),jt=Pe(z,o=>{let s=o.servers;if(o.filters.provider&&(s=s.filter(t=>t.provider===o.filters.provider)),o.filters.status&&(s=s.filter(t=>t.status===o.filters.status)),o.filters.search){const t=o.filters.search.toLowerCase();s=s.filter(p=>p.name.toLowerCase().includes(t)||p.public_ip?.toLowerCase().includes(t)||p.private_ip?.toLowerCase().includes(t))}return s.sort((t,p)=>{const h=t[o.sort.field]||"",l=p[o.sort.field]||"",n=o.sort.direction==="asc"?1:-1;return h<l?-1*n:h>l?1*n:0})}),Vt=Pe(z,o=>o.autoRefresh),Bt=Pe(z,o=>o.modals.creation),Ht=Pe(z,o=>o.modals.terminal),Rt=Pe(z,o=>o.modals.health),Tt=Pe(z,o=>o.modals.applications),Lt=Pe(z,o=>o.modals.ssh),Et=o=>{z.update(s=>({...s,servers:o}))},Ft=(o,s)=>{z.update(t=>({...t,servers:t.servers.map(p=>p.id===o?{...p,...s}:p)}))},Dt=o=>{z.update(s=>({...s,servers:s.servers.filter(t=>t.id!==o)}))},Be=o=>{z.update(s=>({...s,loading:o}))},Ne=o=>{z.update(s=>({...s,error:o}))},Wt=o=>{z.update(s=>({...s,autoRefresh:{...s.autoRefresh,enabled:o}}))},tt=o=>{z.update(s=>({...s,autoRefresh:{...s.autoRefresh,isRefreshing:o}}))},st=o=>{z.update(s=>({...s,filters:{...s.filters,...o}}))},Ot=(o,s)=>{z.update(t=>({...t,sort:{field:o,direction:s}}))},rt=()=>{z.update(o=>({...o,modals:{...o.modals,creation:{...o.modals.creation,show:!0,step:1,validationErrors:{}}}}))},at=()=>{z.update(o=>({...o,modals:{...o.modals,creation:{...o.modals.creation,show:!1,loading:!1,validationErrors:{}}}}))},Nt=o=>{z.update(s=>({...s,modals:{...s.modals,terminal:{show:!0,vps:o,connected:!1}}}))},Ut=()=>{z.update(o=>({...o,modals:{...o.modals,terminal:{...o.modals.terminal,show:!1,connected:!1,sessionId:void 0}}}))},Ue=o=>{z.update(s=>({...s,modals:{...s.modals,terminal:{...s.modals.terminal,connected:o}}}))},ot=o=>{z.update(s=>({...s,modals:{...s.modals,terminal:{...s.modals.terminal,sessionId:o}}}))},Xt=o=>{z.update(s=>({...s,modals:{...s.modals,health:{show:!0,vps:o,data:null,loading:!0}}}))},nt=()=>{z.update(o=>({...o,modals:{...o.modals,health:{...o.modals.health,show:!1,loading:!1}}}))},It=o=>{z.update(s=>({...s,modals:{...s.modals,applications:{show:!0,vps:o,applications:[],loading:!0}}}))},it=()=>{z.update(o=>({...o,modals:{...o.modals,applications:{...o.modals.applications,show:!1,loading:!1}}}))},Jt=o=>{z.update(s=>({...s,modals:{...s.modals,ssh:{show:!0,vps:o}}}))},lt=()=>{z.update(o=>({...o,modals:{...o.modals,ssh:{...o.modals.ssh,show:!1}}}))};var Gt=I('<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>'),Kt=j('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-lg shadow-xl w-full max-w-2xl"><div class="flex items-center justify-between p-6 border-b border-gray-200"><h3 class="text-lg font-semibold text-gray-900">Create VPS Server</h3> <!></div> <div class="p-6"><div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <h4 class="mt-2 text-lg font-medium text-gray-900">VPS Creation Wizard</h4> <p class="mt-1 text-sm text-gray-500"> </p> <div class="mt-6"><!></div></div></div></div></div>');function qt(o,s){Se(s,!1);const[t,p]=ze(),h=()=>ke(Bt,"$creationModal",t),l=ne();ce(()=>h(),()=>{ae(l,h())}),Ae();var n=Ee(),c=Ce(n);{var $=b=>{var S=Kt(),N=a(S),M=a(N),g=i(a(M),2);O(g,{variant:"secondary",size:"sm",$$events:{click(...x){at?.apply(this,x)}},children:(x,w)=>{var J=Gt();v(x,J)},$$slots:{default:!0}}),r(M);var T=i(M,2),U=a(T),E=i(a(U),4),L=a(E);r(E);var F=i(E,2),Y=a(F);O(Y,{variant:"secondary",$$events:{click(...x){at?.apply(this,x)}},children:(x,w)=>{re();var J=Fe("Close");v(x,J)},$$slots:{default:!0}}),r(F),r(U),r(T),r(N),r(S),G(()=>A(L,`Step ${e(l),d(()=>e(l).step)??""} of ${e(l),d(()=>e(l).maxSteps)??""} - Coming soon in Phase 4B`)),v(b,S)};H(c,b=>{e(l),d(()=>e(l).show)&&b($)})}v(o,n),Me(),p()}let Ie=null,Je=null,Ge=null,Ke=null;const Yt=async()=>{if(!Ie){const{Terminal:o}=await Oe(async()=>{const{Terminal:s}=await import("../chunks/PglAAeey.js").then(t=>t.x);return{Terminal:s}},[],import.meta.url);Ie=o}if(!Je){const{FitAddon:o}=await Oe(async()=>{const{FitAddon:s}=await import("../chunks/CyyJcX4C.js").then(t=>t.a);return{FitAddon:s}},[],import.meta.url);Je=o}if(!Ge){const{WebLinksAddon:o}=await Oe(async()=>{const{WebLinksAddon:s}=await import("../chunks/CqlSRlBm.js").then(t=>t.a);return{WebLinksAddon:s}},[],import.meta.url);Ge=o}if(!Ke){const{SearchAddon:o}=await Oe(async()=>{const{SearchAddon:s}=await import("../chunks/CaSCR7cl.js").then(t=>t.a);return{SearchAddon:s}},[],import.meta.url);Ke=o}};class Qt{constructor(){Le(this,"sessions",new Map);Le(this,"reconnectAttempts",new Map);Le(this,"maxReconnectAttempts",5);Le(this,"reconnectDelay",1e3)}async createTerminalSession(s,t){try{if(await Yt(),!Ie||!Je||!Ge||!Ke)throw new Error("Failed to load xterm.js and addons");const h=(await He.post("/ws-terminal/create",{vps_id:s.id})).session_id,l=new Ie({theme:{background:"#1a1a1a",foreground:"#ffffff",cursor:"#ffffff",cursorAccent:"#000000",selection:"#444444",black:"#000000",red:"#ff5555",green:"#50fa7b",yellow:"#f1fa8c",blue:"#bd93f9",magenta:"#ff79c6",cyan:"#8be9fd",white:"#f8f8f2",brightBlack:"#44475a",brightRed:"#ff5555",brightGreen:"#50fa7b",brightYellow:"#f1fa8c",brightBlue:"#bd93f9",brightMagenta:"#ff79c6",brightCyan:"#8be9fd",brightWhite:"#ffffff"},fontFamily:'JetBrains Mono, Menlo, Monaco, "Courier New", monospace',fontSize:14,fontWeight:"normal",letterSpacing:0,lineHeight:1.2,cursorBlink:!0,cursorStyle:"block",scrollback:1e3,tabStopWidth:4,allowTransparency:!0,convertEol:!0,disableStdin:!1,windowsMode:!1}),n=new Je,c=new Ge,$=new Ke;l.loadAddon(n),l.loadAddon(c),l.loadAddon($),l.open(t),n.fit();const b={id:h,vps:s,terminal:l,fitAddon:n,webLinksAddon:c,searchAddon:$,webSocket:null,connected:!1,element:t,cleanup:()=>this.cleanupSession(h)};this.sessions.set(h,b),await this.connectWebSocket(h);const S=()=>{b.connected&&(n.fit(),this.sendResize(h,l.cols,l.rows))};window.addEventListener("resize",S);const N=b.cleanup;return b.cleanup=()=>{window.removeEventListener("resize",S),N()},ot(h),b}catch(p){throw console.error("Failed to create terminal session:",p),p}}async connectWebSocket(s){const t=this.sessions.get(s);if(!t)throw new Error(`Session ${s} not found`);const h=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/terminal/${s}`;try{const l=new WebSocket(h);t.webSocket=l,l.onopen=()=>{console.log(`WebSocket connected for session ${s}`),t.connected=!0,Ue(!0),this.reconnectAttempts.set(s,0),this.sendResize(s,t.terminal.cols,t.terminal.rows),t.terminal.writeln(`\r
\x1B[32mConnected to server\x1B[0m\r
`)},l.onmessage=n=>{try{const c=JSON.parse(n.data);c.type==="output"?t.terminal.write(c.data):c.type==="error"?t.terminal.writeln(`\r
\x1B[31mError: ${c.message}\x1B[0m\r
`):c.type==="resize"&&console.log(`Terminal resized to ${c.cols}x${c.rows}`)}catch{t.terminal.write(n.data)}},l.onclose=n=>{console.log(`WebSocket closed for session ${s}:`,n.code,n.reason),t.connected=!1,Ue(!1),t.terminal.writeln(`\r
\x1B[31mConnection lost\x1B[0m\r
`),n.code!==1e3&&this.attemptReconnection(s)},l.onerror=n=>{console.error(`WebSocket error for session ${s}:`,n),t.connected=!1,Ue(!1),t.terminal.writeln(`\r
\x1B[31mConnection error\x1B[0m\r
`)},t.terminal.onData(n=>{t.connected&&t.webSocket&&t.webSocket.send(JSON.stringify({type:"input",data:n}))}),t.terminal.onKey(n=>{if(t.connected&&t.webSocket&&n.domEvent.ctrlKey){const c=n.domEvent.keyCode;c===67?t.webSocket.send(JSON.stringify({type:"signal",signal:"SIGINT"})):c===68&&t.webSocket.send(JSON.stringify({type:"signal",signal:"SIGTERM"}))}})}catch(l){throw console.error("Failed to connect WebSocket:",l),l}}async attemptReconnection(s){const t=this.sessions.get(s);if(!t)return;const p=this.reconnectAttempts.get(s)||0;if(p>=this.maxReconnectAttempts){t.terminal.writeln(`\r
\x1B[31mMax reconnection attempts reached\x1B[0m\r
`);return}this.reconnectAttempts.set(s,p+1),t.terminal.writeln(`\r
\x1B[33mReconnecting... (${p+1}/${this.maxReconnectAttempts})\x1B[0m\r
`),setTimeout(async()=>{try{await this.connectWebSocket(s)}catch(h){console.error("Reconnection failed:",h),this.attemptReconnection(s)}},this.reconnectDelay*Math.pow(2,p))}sendResize(s,t,p){const h=this.sessions.get(s);h&&h.connected&&h.webSocket&&h.webSocket.send(JSON.stringify({type:"resize",cols:t,rows:p}))}async destroySession(s){const t=this.sessions.get(s);if(t)try{t.webSocket&&t.webSocket.close(1e3,"Session terminated"),t.terminal.dispose(),await He.delete(`/ws-terminal/${s}`),this.sessions.delete(s),this.reconnectAttempts.delete(s),Ue(!1),ot("")}catch(p){console.error("Failed to destroy terminal session:",p)}}cleanupSession(s){const t=this.sessions.get(s);t&&(t.webSocket&&t.webSocket.close(1e3,"Session cleanup"),t.terminal.dispose(),this.sessions.delete(s),this.reconnectAttempts.delete(s))}getSession(s){return this.sessions.get(s)}getAllSessions(){return Array.from(this.sessions.values())}resizeSession(s){const t=this.sessions.get(s);t&&t.connected&&(t.fitAddon.fit(),this.sendResize(s,t.terminal.cols,t.terminal.rows))}focusSession(s){const t=this.sessions.get(s);t&&t.terminal.focus()}clearSession(s){const t=this.sessions.get(s);t&&t.terminal.clear()}searchInSession(s,t){const p=this.sessions.get(s);return p&&p.searchAddon?p.searchAddon.findNext(t):!1}async initialize(s,t){console.warn("initialize() is deprecated. Use createTerminalSession() instead.");const p={id:t};await this.createTerminalSession(p,s)}cleanup(){for(const[s]of this.sessions)this.cleanupSession(s)}isConnected(){for(const s of this.sessions.values())if(s.connected)return!0;return!1}}const dt=new Qt;var Zt=I('<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>'),es=I('<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path></svg>'),ts=I('<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>'),ss=j('<div class="flex items-center justify-center h-full text-gray-400"><div class="text-center"><svg class="animate-spin h-8 w-8 mx-auto mb-4" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <p class="text-sm">Connecting to terminal...</p></div></div>'),rs=j('<div class="text-xs text-gray-500"> </div>'),as=j('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-lg shadow-xl w-full max-w-6xl h-full max-h-[90vh] flex flex-col"><div class="flex items-center justify-between p-4 border-b border-gray-200"><div class="flex items-center space-x-3"><svg class="h-6 w-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <div><h3 class="text-lg font-semibold text-gray-900"> </h3> <p class="text-sm text-gray-500"><!></p></div></div> <div class="flex items-center space-x-2"><div class="flex items-center space-x-2"><div class="flex items-center"><div></div> <span class="text-sm text-gray-600"> </span></div></div> <!> <!> <!></div></div> <div class="flex-1 p-4 bg-gray-900"><div class="w-full h-full rounded border border-gray-700 bg-black" style="min-height: 400px;"><!></div></div> <div class="p-4 border-t border-gray-200 bg-gray-50"><div class="flex items-center justify-between text-sm text-gray-600"><div class="flex items-center space-x-4"><span>• Use Ctrl+C to interrupt</span> <span>• Use Ctrl+D to exit</span> <span>• Terminal supports copy/paste</span></div> <!></div></div></div></div>');function os(o,s){Se(s,!1);const[t,p]=ze(),h=()=>ke(Ht,"$terminalModal",t),l=ne(),n=ne();let c=ne(),$=ne(null);ct(()=>{e(l).show&&e(n)&&e(c)&&b()}),vt(()=>{S()});async function b(){if(!(!e(n)||!e(c)))try{S(),ae($,await dt.createTerminalSession(e(n),e(c))),console.log("Terminal session created:",e($).id)}catch(x){console.error("Failed to initialize terminal:",x),e(c)&&wt(c,e(c).innerHTML=`
					<div class="flex items-center justify-center h-full text-red-600">
						<div class="text-center">
							<svg class="h-12 w-12 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.966-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z" />
							</svg>
							<h3 class="text-lg font-medium mb-2">Failed to connect</h3>
							<p class="text-sm text-gray-500">${x instanceof Error?x.message:"Unknown error"}</p>
						</div>
					</div>
				`)}}function S(){e($)&&(e($).cleanup(),ae($,null))}function N(){S(),Ut()}function M(){if(e(n)){const x=`/terminal?vps_id=${e(n).id}`;window.open(x,"_blank","noopener,noreferrer")}}function g(){e($)&&setTimeout(()=>{dt.resizeSession(e($).id)},100)}let T;function U(){clearTimeout(T),T=setTimeout(g,250)}function E(x){switch(x){case"oracle":return"ubuntu";case"hetzner":default:return"root"}}ce(()=>h(),()=>{ae(l,h())}),ce(()=>e(l),()=>{ae(n,e(l).vps)}),ce(()=>(e(l),e(n),e(c)),()=>{e(l).show&&e(n)&&e(c)?b():e(l).show||S()}),Ae(),qe();var L=Ee();be("resize",xt,U);var F=Ce(L);{var Y=x=>{var w=as(),J=a(w),X=a(J),pe=a(X),ee=i(a(pe),2),K=a(ee),ie=a(K);r(K);var V=i(K,2),Q=a(V);{var te=k=>{var W=Fe();G(de=>A(W,`${de??""}@${e(n),d(()=>e(n).public_ip||e(n).private_ip||e(n).name)??""}`),[()=>(e(n),d(()=>E(e(n).provider)))],fe),v(k,W)};H(Q,k=>{e(n)&&k(te)})}r(V),r(ee),r(pe);var ue=i(pe,2),ve=a(ue),me=a(ve),_e=a(me),ge=i(_e,2),xe=a(ge,!0);r(ge),r(me),r(ve);var f=i(ve,2);O(f,{variant:"secondary",size:"sm",title:"Open in new tab",$$events:{click:M},children:(k,W)=>{var de=Zt();v(k,de)},$$slots:{default:!0}});var _=i(f,2);O(_,{variant:"secondary",size:"sm",title:"Resize terminal",$$events:{click:g},children:(k,W)=>{var de=es();v(k,de)},$$slots:{default:!0}});var Z=i(_,2);O(Z,{variant:"secondary",size:"sm",title:"Close terminal",$$events:{click:N},children:(k,W)=>{var de=ts();v(k,de)},$$slots:{default:!0}}),r(ue),r(X);var le=i(X,2),oe=a(le),u=a(oe);{var D=k=>{var W=ss();v(k,W)};H(u,k=>{e($)||k(D)})}r(oe),Pt(oe,k=>ae(c,k),()=>e(c)),r(le);var B=i(le,2),P=a(B),R=i(a(P),2);{var q=k=>{var W=rs(),de=a(W);r(W),G(()=>A(de,`Session ID: ${e($),d(()=>e($).id)??""}`)),v(k,W)};H(R,k=>{e($)&&k(q)})}r(P),r(B),r(J),r(w),G(()=>{A(ie,`Terminal - ${e(n),d(()=>e(n)?.name||"Unknown Server")??""}`),Xe(_e,1,`w-2 h-2 rounded-full ${e(l),d(()=>e(l).connected?"bg-green-400":"bg-red-400")??""} mr-2`),A(xe,(e(l),d(()=>e(l).connected?"Connected":"Disconnected")))}),v(x,w)};H(F,x=>{e(l),d(()=>e(l).show)&&x(Y)})}v(o,L),Me(),p()}var ns=I('<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>'),is=j('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-lg shadow-xl w-full max-w-2xl"><div class="flex items-center justify-between p-6 border-b border-gray-200"><div class="flex items-center space-x-3"><svg class="h-6 w-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg> <h3 class="text-lg font-semibold text-gray-900"> </h3></div> <!></div> <div class="p-6"><div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg> <h4 class="mt-2 text-lg font-medium text-gray-900">Health Monitoring</h4> <p class="mt-1 text-sm text-gray-500">Server health and diagnostics - Coming soon in Phase 4C</p> <div class="mt-6"><!></div></div></div></div></div>');function ls(o,s){Se(s,!1);const[t,p]=ze(),h=()=>ke(Rt,"$healthModal",t),l=ne();ce(()=>h(),()=>{ae(l,h())}),Ae();var n=Ee(),c=Ce(n);{var $=b=>{var S=is(),N=a(S),M=a(N),g=a(M),T=i(a(g),2),U=a(T);r(T),r(g);var E=i(g,2);O(E,{variant:"secondary",size:"sm",$$events:{click(...w){nt?.apply(this,w)}},children:(w,J)=>{var X=ns();v(w,X)},$$slots:{default:!0}}),r(M);var L=i(M,2),F=a(L),Y=i(a(F),6),x=a(Y);O(x,{variant:"secondary",$$events:{click(...w){nt?.apply(this,w)}},children:(w,J)=>{re();var X=Fe("Close");v(w,X)},$$slots:{default:!0}}),r(Y),r(F),r(L),r(N),r(S),G(()=>A(U,`Server Health - ${e(l),d(()=>e(l).vps?.name||"Unknown Server")??""}`)),v(b,S)};H(c,b=>{e(l),d(()=>e(l).show)&&b($)})}v(o,n),Me(),p()}var ds=I('<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>'),cs=j('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-lg shadow-xl w-full max-w-3xl"><div class="flex items-center justify-between p-6 border-b border-gray-200"><div class="flex items-center space-x-3"><svg class="h-6 w-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <h3 class="text-lg font-semibold text-gray-900"> </h3></div> <!></div> <div class="p-6"><div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <h4 class="mt-2 text-lg font-medium text-gray-900">Deployed Applications</h4> <p class="mt-1 text-sm text-gray-500">View and manage applications on this server - Coming soon in Phase 4C</p> <div class="mt-6"><!></div></div></div></div></div>');function vs(o,s){Se(s,!1);const[t,p]=ze(),h=()=>ke(Tt,"$applicationsModal",t),l=ne();ce(()=>h(),()=>{ae(l,h())}),Ae();var n=Ee(),c=Ce(n);{var $=b=>{var S=cs(),N=a(S),M=a(N),g=a(M),T=i(a(g),2),U=a(T);r(T),r(g);var E=i(g,2);O(E,{variant:"secondary",size:"sm",$$events:{click(...w){it?.apply(this,w)}},children:(w,J)=>{var X=ds();v(w,X)},$$slots:{default:!0}}),r(M);var L=i(M,2),F=a(L),Y=i(a(F),6),x=a(Y);O(x,{variant:"secondary",$$events:{click(...w){it?.apply(this,w)}},children:(w,J)=>{re();var X=Fe("Close");v(w,X)},$$slots:{default:!0}}),r(Y),r(F),r(L),r(N),r(S),G(()=>A(U,`Applications - ${e(l),d(()=>e(l).vps?.name||"Unknown Server")??""}`)),v(b,S)};H(c,b=>{e(l),d(()=>e(l).show)&&b($)})}v(o,n),Me(),p()}var ps=I('<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>'),us=I('<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>'),ms=j("<p><strong>Oracle Cloud:</strong> Default user is 'ubuntu'. Root access available via sudo.</p>"),hs=j("<p><strong>Hetzner Cloud:</strong> Direct root access provided.</p>"),fs=j("<p>Provider-specific SSH information not available.</p>"),gs=j('<div class="bg-gray-50 rounded-lg p-4"><h4 class="text-sm font-medium text-gray-900 mb-3">Server Details</h4> <div class="grid grid-cols-2 gap-4 text-sm"><div><span class="text-gray-500">Provider:</span> <span class="ml-2 font-medium capitalize"> </span></div> <div><span class="text-gray-500">Status:</span> <span class="ml-2 font-medium capitalize"> </span></div> <div><span class="text-gray-500">Public IP:</span> <span class="ml-2 font-mono font-medium"> </span></div> <div><span class="text-gray-500">Private IP:</span> <span class="ml-2 font-mono font-medium"> </span></div></div></div> <div><h4 class="text-sm font-medium text-gray-900 mb-3">SSH Connection</h4> <div class="bg-gray-900 rounded-lg p-4"><div class="flex items-center justify-between"><code class="text-green-400 text-sm font-mono"> </code> <!></div></div> <p class="text-xs text-gray-500 mt-2">Make sure you have the xanthus-key.pem file in your current directory</p></div> <div><h4 class="text-sm font-medium text-gray-900 mb-3">SSH Key Requirements</h4> <div class="bg-blue-50 border border-blue-200 rounded-lg p-4"><div class="flex items-start"><svg class="h-5 w-5 text-blue-400 mt-0.5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div class="text-sm"><p class="text-blue-800 font-medium mb-1">SSH Key Setup</p> <ul class="text-blue-700 space-y-1"><li>• Download the SSH private key (xanthus-key.pem) from your Xanthus dashboard</li> <li>• Set proper permissions: <code class="bg-blue-100 px-1 rounded">chmod 600 xanthus-key.pem</code></li> <li>• Use the command above to connect to your server</li></ul></div></div></div></div> <div><h4 class="text-sm font-medium text-gray-900 mb-3">Provider Information</h4> <div class="text-sm text-gray-600"><!></div></div>',1),xs=j('<div class="text-center py-8"><p class="text-gray-500">No server information available</p></div>'),ws=j('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-lg shadow-xl w-full max-w-2xl"><div class="flex items-center justify-between p-6 border-b border-gray-200"><div class="flex items-center space-x-3"><svg class="h-6 w-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 12H9v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.764l4.893-4.893A6 6 0 0115 7z"></path></svg> <h3 class="text-lg font-semibold text-gray-900"> </h3></div> <!></div> <div class="p-6 space-y-6"><!></div> <div class="p-6 border-t border-gray-200 bg-gray-50"><div class="flex justify-end"><!></div></div></div></div>');function _s(o,s){Se(s,!1);const[t,p]=ze(),h=()=>ke(Lt,"$sshModal",t),l=ne(),n=ne();function c(g){switch(g){case"oracle":return"ubuntu";case"hetzner":default:return"root"}}function $(){if(!e(n))return"";const g=c(e(n).provider),T=e(n).public_ip||e(n).private_ip||"";return`ssh -i xanthus-key.pem ${g}@${T}`}async function b(g){try{await navigator.clipboard.writeText(g)}catch(T){console.error("Failed to copy to clipboard:",T)}}ce(()=>h(),()=>{ae(l,h())}),ce(()=>e(l),()=>{ae(n,e(l).vps)}),Ae();var S=Ee(),N=Ce(S);{var M=g=>{var T=ws(),U=a(T),E=a(U),L=a(E),F=i(a(L),2),Y=a(F);r(F),r(L);var x=i(L,2);O(x,{variant:"secondary",size:"sm",$$events:{click(...V){lt?.apply(this,V)}},children:(V,Q)=>{var te=ps();v(V,te)},$$slots:{default:!0}}),r(E);var w=i(E,2),J=a(w);{var X=V=>{var Q=gs(),te=Ce(Q),ue=i(a(te),2),ve=a(ue),me=i(a(ve),2),_e=a(me,!0);r(me),r(ve);var ge=i(ve,2),xe=i(a(ge),2),f=a(xe,!0);r(xe),r(ge);var _=i(ge,2),Z=i(a(_),2),le=a(Z,!0);r(Z),r(_);var oe=i(_,2),u=i(a(oe),2),D=a(u,!0);r(u),r(oe),r(ue),r(te);var B=i(te,2),P=i(a(B),2),R=a(P),q=a(R),k=a(q,!0);r(q);var W=i(q,2);O(W,{variant:"secondary",size:"sm",title:"Copy SSH command",$$events:{click:()=>b($())},children:(he,je)=>{var Ve=us();v(he,Ve)},$$slots:{default:!0}}),r(R),r(P),re(2),r(B);var de=i(B,4),De=i(a(de),2),Ye=a(De);{var Qe=he=>{var je=ms();v(he,je)},Re=(he,je)=>{{var Ve=$e=>{var Te=hs();v($e,Te)},We=$e=>{var Te=fs();v($e,Te)};H(he,$e=>{e(n),d(()=>e(n).provider==="hetzner")?$e(Ve):$e(We,!1)},je)}};H(Ye,he=>{e(n),d(()=>e(n).provider==="oracle")?he(Qe):he(Re,!1)})}r(De),r(de),G(he=>{A(_e,(e(n),d(()=>e(n).provider))),A(f,(e(n),d(()=>e(n).status))),A(le,(e(n),d(()=>e(n).public_ip||"N/A"))),A(D,(e(n),d(()=>e(n).private_ip||"N/A"))),A(k,he)},[()=>d($)],fe),v(V,Q)},pe=V=>{var Q=xs();v(V,Q)};H(J,V=>{e(n)?V(X):V(pe,!1)})}r(w);var ee=i(w,2),K=a(ee),ie=a(K);O(ie,{variant:"secondary",$$events:{click(...V){lt?.apply(this,V)}},children:(V,Q)=>{re();var te=Fe("Close");v(V,te)},$$slots:{default:!0}}),r(K),r(ee),r(U),r(T),G(()=>A(Y,`SSH Information - ${e(n),d(()=>e(n)?.name||"Unknown Server")??""}`)),v(g,T)};H(N,g=>{e(l),d(()=>e(l).show)&&g(M)})}v(o,S),Me(),p()}var ys=I('<svg class="animate-spin -ml-1 mr-2 h-3 w-3" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),bs=j('<div class="flex justify-between items-center"><span class="text-sm text-gray-500">Public IP</span> <span class="text-sm font-mono font-medium text-gray-900"> </span></div>'),$s=j('<div class="flex justify-between items-center"><span class="text-sm text-gray-500">Private IP</span> <span class="text-sm font-mono font-medium text-gray-900"> </span></div>'),ks=j('<div class="flex justify-between items-center"><span class="text-sm text-gray-500">Monthly Cost</span> <span class="text-sm font-medium text-gray-900"> </span></div>'),Ss=j('<div class="flex justify-between items-center"><span class="text-sm text-gray-500">Hourly Cost</span> <span class="text-sm font-medium text-gray-900"> </span></div>'),Ms=j('<div class="flex justify-between items-center"><span class="text-sm text-gray-500">Created</span> <span class="text-sm font-medium text-gray-900"> </span></div>'),Cs=I('<svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h6m-3-7v2.5M12 19v2.5"></path></svg> Start',1),Ps=I('<svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.636 5.636l12.728 12.728m-12.728 0L18.364 5.636"></path></svg> Stop',1),As=I('<svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> Reboot',1),zs=I('<svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> Terminal',1),js=I('<svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg> Health',1),Vs=I('<svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> Apps',1),Bs=I('<svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 12H9v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.764l4.893-4.893A6 6 0 0115 7z"></path></svg> SSH',1),Hs=I('<svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg> Delete VPS',1),Rs=j('<div class="p-6"><div class="flex items-start justify-between mb-4"><div class="flex items-center space-x-3"><span class="text-2xl"> </span> <div><h3 class="text-lg font-semibold text-gray-900"> </h3> <p class="text-sm text-gray-500 capitalize"> </p></div></div> <span><!> </span></div> <div class="space-y-3 mb-6"><div class="flex justify-between items-center"><span class="text-sm text-gray-500">Server Type</span> <span class="text-sm font-medium text-gray-900"> </span></div> <div class="flex justify-between items-center"><span class="text-sm text-gray-500">Region</span> <span class="text-sm font-medium text-gray-900"> </span></div> <!> <!> <!> <!> <!></div> <div class="space-y-3"><div class="flex space-x-2"><!> <!> <!></div> <div class="grid grid-cols-2 gap-2"><!> <!> <!> <!></div> <!></div></div>');function Ts(o,s){Se(s,!1);let t=bt(s,"vps",8);const p=ft();function h(g){switch(g){case"running":return"bg-green-100 text-green-800";case"stopped":return"bg-red-100 text-red-800";case"starting":case"stopping":case"rebooting":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}}function l(g){switch(g){case"hetzner":return"🔥";case"oracle":return"🔴";default:return"☁️"}}function n(g){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:4}).format(g)}function c(g){try{return new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return g}}function $(){return t().status==="stopped"}function b(){return t().status==="running"}function S(){return t().status==="running"}function N(){return t().status==="running"}function M(){return["starting","stopping","rebooting"].includes(t().status)}qe(),$t(o,{children:(g,T)=>{var U=Rs(),E=a(U),L=a(E),F=a(L),Y=a(F,!0);r(F);var x=i(F,2),w=a(x),J=a(w,!0);r(w);var X=i(w,2),pe=a(X,!0);r(X),r(x),r(L);var ee=i(L,2),K=a(ee);{var ie=m=>{var y=ys();v(m,y)};H(K,m=>{d(M)&&m(ie)})}var V=i(K);r(ee),r(E);var Q=i(E,2),te=a(Q),ue=i(a(te),2),ve=a(ue,!0);r(ue),r(te);var me=i(te,2),_e=i(a(me),2),ge=a(_e,!0);r(_e),r(me);var xe=i(me,2);{var f=m=>{var y=bs(),C=i(a(y),2),we=a(C,!0);r(C),r(y),G(()=>A(we,(se(t()),d(()=>t().public_ip)))),v(m,y)};H(xe,m=>{se(t()),d(()=>t().public_ip)&&m(f)})}var _=i(xe,2);{var Z=m=>{var y=$s(),C=i(a(y),2),we=a(C,!0);r(C),r(y),G(()=>A(we,(se(t()),d(()=>t().private_ip)))),v(m,y)};H(_,m=>{se(t()),d(()=>t().private_ip)&&m(Z)})}var le=i(_,2);{var oe=m=>{var y=ks(),C=i(a(y),2),we=a(C,!0);r(C),r(y),G(ye=>A(we,ye),[()=>(se(t()),d(()=>n(t().monthly_cost)))],fe),v(m,y)};H(le,m=>{se(t()),d(()=>t().monthly_cost)&&m(oe)})}var u=i(le,2);{var D=m=>{var y=Ss(),C=i(a(y),2),we=a(C,!0);r(C),r(y),G(ye=>A(we,ye),[()=>(se(t()),d(()=>n(t().hourly_cost)))],fe),v(m,y)};H(u,m=>{se(t()),d(()=>t().hourly_cost)&&m(D)})}var B=i(u,2);{var P=m=>{var y=Ms(),C=i(a(y),2),we=a(C,!0);r(C),r(y),G(ye=>A(we,ye),[()=>(se(t()),d(()=>c(t().created_at)))],fe),v(m,y)};H(B,m=>{se(t()),d(()=>t().created_at)&&m(P)})}r(Q);var R=i(Q,2),q=a(R),k=a(q);{var W=m=>{const y=fe(()=>d(M));O(m,{variant:"success",size:"sm",class:"flex-1",get disabled(){return e(y)},$$events:{click:()=>p("power","poweron")},children:(C,we)=>{var ye=Cs();re(),v(C,ye)},$$slots:{default:!0}})};H(k,m=>{d($)&&m(W)})}var de=i(k,2);{var De=m=>{const y=fe(()=>d(M));O(m,{variant:"danger",size:"sm",class:"flex-1",get disabled(){return e(y)},$$events:{click:()=>p("power","poweroff")},children:(C,we)=>{var ye=Ps();re(),v(C,ye)},$$slots:{default:!0}})};H(de,m=>{d(b)&&m(De)})}var Ye=i(de,2);{var Qe=m=>{const y=fe(()=>d(M));O(m,{variant:"warning",size:"sm",class:"flex-1",get disabled(){return e(y)},$$events:{click:()=>p("power","reboot")},children:(C,we)=>{var ye=As();re(),v(C,ye)},$$slots:{default:!0}})};H(Ye,m=>{d(S)&&m(Qe)})}r(q);var Re=i(q,2),he=a(Re);const je=fe(()=>d(()=>!N()));O(he,{variant:"secondary",size:"sm",get disabled(){return e(je)},$$events:{click:()=>p("terminal")},children:(m,y)=>{var C=zs();re(),v(m,C)},$$slots:{default:!0}});var Ve=i(he,2);O(Ve,{variant:"secondary",size:"sm",$$events:{click:()=>p("health")},children:(m,y)=>{var C=js();re(),v(m,C)},$$slots:{default:!0}});var We=i(Ve,2);O(We,{variant:"secondary",size:"sm",$$events:{click:()=>p("applications")},children:(m,y)=>{var C=Vs();re(),v(m,C)},$$slots:{default:!0}});var $e=i(We,2);O($e,{variant:"secondary",size:"sm",$$events:{click:()=>p("ssh")},children:(m,y)=>{var C=Bs();re(),v(m,C)},$$slots:{default:!0}}),r(Re);var Te=i(Re,2);const ut=fe(()=>d(M));O(Te,{variant:"danger",size:"sm",class:"w-full",get disabled(){return e(ut)},$$events:{click:()=>p("delete")},children:(m,y)=>{var C=Hs();re(),v(m,C)},$$slots:{default:!0}}),r(R),r(U),G((m,y)=>{A(Y,m),A(J,(se(t()),d(()=>t().name))),A(pe,(se(t()),d(()=>t().provider))),Xe(ee,1,`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y??""}`),A(V,` ${se(t()),d(()=>t().status)??""}`),A(ve,(se(t()),d(()=>t().server_type||"N/A"))),A(ge,(se(t()),d(()=>t().region||"N/A")))},[()=>(se(t()),d(()=>l(t().provider))),()=>(se(t()),d(()=>h(t().status)))],fe),v(g,U)},$$slots:{default:!0}}),Me()}var Ls=j("<option> </option>"),Es=I('<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"></path></svg>'),Fs=I('<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"></path></svg>'),Ds=j('<button class="inline-flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"><svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg> Clear</button>'),Ws=j('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"> <button class="ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full text-purple-400 hover:text-purple-600 hover:bg-purple-200"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></span>'),Os=j('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"> <button class="ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full text-purple-400 hover:text-purple-600 hover:bg-purple-200"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></span>'),Ns=j('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"> <button class="ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full text-purple-400 hover:text-purple-600 hover:bg-purple-200"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></span>'),Us=j('<div class="mt-4 flex flex-wrap items-center gap-2"><span class="text-sm text-gray-500">Active filters:</span> <!> <!> <!></div>'),Xs=j('<div class="bg-white shadow-sm border border-gray-200 rounded-lg p-6"><div class="flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-6"><div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1"><div class="flex-1 min-w-0"><!></div> <div class="w-full sm:w-48"><!></div> <div class="w-full sm:w-48"><!></div></div> <div class="flex items-center space-x-4"><div class="flex items-center space-x-2"><span class="text-sm text-gray-700">Sort by:</span> <div class="relative"><select class="appearance-none bg-white border border-gray-300 rounded-md px-3 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"></select> <div class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"><svg class="h-4 w-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l4-4 4 4m0 6l-4 4-4-4"></path></svg></div></div> <button class="inline-flex items-center px-2 py-1 text-sm text-gray-600 hover:text-gray-900 transition-colors" title="Toggle sort direction"><!></button></div> <!></div></div> <!></div>');function Is(o,s){Se(s,!1);const[t,p]=ze(),h=()=>ke(z,"$vpsStore",t),l=ne(),n=ne(),c=ne(),$=ne(),b=[{value:"",label:"All Providers"},{value:"hetzner",label:"Hetzner Cloud"},{value:"oracle",label:"Oracle Cloud"}],S=[{value:"",label:"All Statuses"},{value:"running",label:"Running"},{value:"stopped",label:"Stopped"},{value:"starting",label:"Starting"},{value:"stopping",label:"Stopping"},{value:"rebooting",label:"Rebooting"}],N=[{value:"name",label:"Name"},{value:"status",label:"Status"},{value:"provider",label:"Provider"},{value:"created_at",label:"Created Date"},{value:"monthly_cost",label:"Monthly Cost"}];function M(f,_){st({[f]:_})}function g(f){const _=e(c).field===f&&e(c).direction==="asc"?"desc":"asc";Ot(f,_)}function T(){st({provider:"",status:"",search:""})}ce(()=>h(),()=>{ae(l,h())}),ce(()=>e(l),()=>{ae(n,e(l).filters)}),ce(()=>e(l),()=>{ae(c,e(l).sort)}),ce(()=>e(n),()=>{ae($,e(n).provider||e(n).status||e(n).search)}),Ae(),qe();var U=Xs(),E=a(U),L=a(E),F=a(L),Y=a(F);St(Y,{type:"text",placeholder:"Search servers by name or IP...",get value(){return e(n),d(()=>e(n).search)},$$events:{input:f=>M("search",f.detail)}}),r(F);var x=i(F,2),w=a(x);Ze(w,{get options(){return b},get value(){return e(n),d(()=>e(n).provider)},$$events:{change:f=>M("provider",f.detail)}}),r(x);var J=i(x,2),X=a(J);Ze(X,{get options(){return S},get value(){return e(n),d(()=>e(n).status)},$$events:{change:f=>M("status",f.detail)}}),r(J),r(L);var pe=i(L,2),ee=a(pe),K=i(a(ee),2),ie=a(K);pt(ie,5,()=>N,kt,(f,_)=>{var Z=Ls(),le=a(Z,!0);r(Z);var oe={};G(()=>{A(le,(e(_),d(()=>e(_).label))),oe!==(oe=(e(_),d(()=>e(_).value)))&&(Z.value=(Z.__value=(e(_),d(()=>e(_).value)))??"")}),v(f,Z)}),r(ie);var V;Mt(ie),re(2),r(K);var Q=i(K,2),te=a(Q);{var ue=f=>{var _=Es();v(f,_)},ve=f=>{var _=Fs();v(f,_)};H(te,f=>{e(c),d(()=>e(c).direction==="asc")?f(ue):f(ve,!1)})}r(Q),r(ee);var me=i(ee,2);{var _e=f=>{var _=Ds();be("click",_,T),v(f,_)};H(me,f=>{e($)&&f(_e)})}r(pe),r(E);var ge=i(E,2);{var xe=f=>{var _=Us(),Z=i(a(_),2);{var le=P=>{var R=Ws(),q=a(R),k=i(q);r(R),G(()=>A(q,`Search: "${e(n),d(()=>e(n).search)??""}" `)),be("click",k,()=>M("search","")),v(P,R)};H(Z,P=>{e(n),d(()=>e(n).search)&&P(le)})}var oe=i(Z,2);{var u=P=>{var R=Os(),q=a(R),k=i(q);r(R),G(W=>A(q,`Provider: ${W??""} `),[()=>(e(n),d(()=>b.find(W=>W.value===e(n).provider)?.label))],fe),be("click",k,()=>M("provider","")),v(P,R)};H(oe,P=>{e(n),d(()=>e(n).provider)&&P(u)})}var D=i(oe,2);{var B=P=>{var R=Ns(),q=a(R),k=i(q);r(R),G(W=>A(q,`Status: ${W??""} `),[()=>(e(n),d(()=>S.find(W=>W.value===e(n).status)?.label))],fe),be("click",k,()=>M("status","")),v(P,R)};H(D,P=>{e(n),d(()=>e(n).status)&&P(B)})}r(_),v(f,_)};H(ge,f=>{e($)&&f(xe)})}r(U),G(()=>{V!==(V=(e(c),d(()=>e(c).field)))&&(ie.value=(ie.__value=(e(c),d(()=>e(c).field)))??"",Ct(ie,(e(c),d(()=>e(c).field))))}),be("change",ie,f=>g(f.currentTarget.value)),be("click",Q,()=>g(e(c).field)),v(o,U),Me(),p()}var Js=I('<svg class="h-4 w-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> Create VPS',1),Gs=j('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8"></div>'),Ks=I('<svg class="h-4 w-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> Create your first VPS',1),qs=j('<div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">No VPS servers</h3> <p class="mt-1 text-sm text-gray-500">Get started by creating your first VPS server.</p> <div class="mt-6"><!></div></div>'),Ys=j('<div class="min-h-screen bg-gray-50"><div class="bg-white shadow-sm border-b border-gray-200"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center py-6"><div><h1 class="text-3xl font-bold text-gray-900">VPS Management</h1> <p class="mt-1 text-sm text-gray-500">Manage your cloud servers and infrastructure</p></div> <div class="flex items-center space-x-4"><div class="flex items-center space-x-2"><button><svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> </button> <button class="inline-flex items-center px-3 py-2 text-sm bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 transition-colors"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> Refresh</button></div> <!></div></div></div></div> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!> <!></div></div> <!> <!> <!> <!> <!> <!>',1);function mr(o,s){Se(s,!1);const[t,p]=ze(),h=()=>ke(jt,"$servers",t),l=()=>ke(Vt,"$autoRefreshState",t),n=ne(),c=ne(),$=ne();ct(async()=>{await b(),S()}),vt(()=>{N()});async function b(){try{Be(!0),Ne(null);const u=await He.get("/vps/list");Et(u)}catch(u){console.error("Failed to load VPS list:",u),Ne(u instanceof Error?u.message:"Failed to load VPS list")}finally{Be(!1)}}function S(){e(c).enabled&&et.start(async()=>{if(!document.hidden){tt(!0);try{await b()}finally{tt(!1)}}},e(c).interval)}function N(){et.stop()}function M(){const u=!e(c).enabled;Wt(u),u?S():N()}async function g(u,D){try{Be(!0),Ft(u.id,{status:D==="poweron"?"starting":D==="poweroff"?"stopping":"rebooting"}),await He.post(`/vps/${u.id}/${D}`,{}),setTimeout(()=>{b()},2e3)}catch(B){console.error(`Failed to ${D} VPS:`,B),Ne(`Failed to ${D} VPS: ${B instanceof Error?B.message:"Unknown error"}`),b()}finally{Be(!1)}}async function T(u){if(confirm(`Are you sure you want to delete VPS "${u.name}"? This action cannot be undone.`))try{Be(!0),u.provider==="oracle"?await He.post("/vps/oci/delete",{instance_id:u.id}):await He.post("/vps/delete",{server_id:u.id}),Dt(u.id)}catch(B){console.error("Failed to delete VPS:",B),Ne(`Failed to delete VPS: ${B instanceof Error?B.message:"Unknown error"}`)}finally{Be(!1)}}function U(u){Nt(u)}function E(u){Xt(u)}function L(u){It(u)}function F(u){Jt(u)}ce(()=>h(),()=>{ae(n,h())}),ce(()=>l(),()=>{ae(c,l())}),ce(()=>e(n),()=>{ae($,e(n).length>0)}),Ae(),qe();var Y=Ys();_t(u=>{yt.title="VPS Management - Xanthus"});var x=Ce(Y),w=a(x),J=a(w),X=a(J),pe=i(a(X),2),ee=a(pe),K=a(ee),ie=i(a(K));r(K);var V=i(K,2),Q=a(V);re(),r(V),r(ee);var te=i(ee,2);O(te,{variant:"primary",$$events:{click(...u){rt?.apply(this,u)}},children:(u,D)=>{var B=Js();re(),v(u,B)},$$slots:{default:!0}}),r(pe),r(X),r(J),r(w);var ue=i(w,2),ve=a(ue);Is(ve,{});var me=i(ve,2);{var _e=u=>{var D=Gs();pt(D,5,()=>e(n),B=>B.id,(B,P)=>{Ts(B,{get vps(){return e(P)},$$events:{power:R=>g(e(P),R.detail),delete:()=>T(e(P)),terminal:()=>U(e(P)),health:()=>E(e(P)),applications:()=>L(e(P)),ssh:()=>F(e(P))}})}),r(D),v(u,D)},ge=u=>{var D=qs(),B=i(a(D),6),P=a(B);O(P,{variant:"primary",$$events:{click(...R){rt?.apply(this,R)}},children:(R,q)=>{var k=Ks();re(),v(R,k)},$$slots:{default:!0}}),r(B),r(D),v(u,D)};H(me,u=>{e($)?u(_e):u(ge,!1)})}r(ue),r(x);var xe=i(x,2);qt(xe,{});var f=i(xe,2);os(f,{});var _=i(f,2);ls(_,{});var Z=i(_,2);vs(Z,{});var le=i(Z,2);_s(le,{});var oe=i(le,2);At(oe,{}),G(()=>{Xe(K,1,`inline-flex items-center px-3 py-2 text-sm rounded-md transition-colors
								${e(c),d(()=>e(c).enabled?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200")??""}`),A(ie,` ${e(c),d(()=>e(c).enabled?`Auto-refresh (${e(c).countdown}s)`:"Auto-refresh off")??""}`),V.disabled=(e(c),d(()=>e(c).isRefreshing)),Xe(Q,0,`h-4 w-4 mr-1 ${e(c),d(()=>e(c).isRefreshing?"animate-spin":"")??""}`)}),be("click",K,M),be("click",V,b),v(o,Y),Me(),p()}export{mr as component};
